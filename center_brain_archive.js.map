{"version":3,"sources":["webpack:///./src/dom.ts","webpack:///./src/main.ts","webpack:///webpack/bootstrap","webpack:///webpack/startup"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,kBAAkB;AAClB,uBAAuB,GAAG,uBAAuB,GAAG,mBAAmB;AACvE,aAAa,mBAAO,CAAC,6BAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,gBAAgB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrIa;AACb,kBAAkB;AAClB,YAAY;AACZ,UAAU,mBAAO,CAAC,2BAAO;AACzB;AACA,wBAAwB,iBAAiB,EAAE;AAC3C;AACA,IAAI,YAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;;;;;UCjCD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;UCrBA;UACA;UACA;UACA","file":"center_brain_archive.js","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.makeConsumeItem = exports.makeProduceItem = exports.makeLanding = void 0;\nvar main_1 = require(\"./main\");\n/**\n * Create the main page.\n */\nfunction makeLanding() {\n    var landing = document.createElement(\"div\");\n    landing.innerHTML = \"\\n        <h1 class=\\\"display-1\\\">Center Brain Archive</h1>\\n\\n        <p>Left-click on an item to see all the ways to produce it.<br>\\n        Right-click to see all the ways to use it.</p>\\n    \";\n    var items = document.createElement(\"ul\");\n    for (var _i = 0, _a = Object.keys(main_1.INFO.consumption_methods); _i < _a.length; _i++) {\n        var item = _a[_i];\n        items.appendChild(makeItem(item, \"li\"));\n    }\n    landing.append(items);\n    return landing;\n}\nexports.makeLanding = makeLanding;\n/**\n * Create an element with all the recipes that produce the given item.\n */\nfunction makeProduceItem(item) {\n    var body = document.createElement(\"div\");\n    if (item in main_1.INFO.production_methods) {\n        body.innerHTML = \"<h2 class=\\\"display-2\\\">Ways to produce \" + item + \"</h2>\";\n        var methods = main_1.INFO.production_methods[item];\n        for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\n            var recipe = methods_1[_i];\n            body.append(makeRecipe(recipe));\n        }\n    }\n    else {\n        body.innerText = \"Unknown item <code>\" + item + \"</code>\";\n    }\n    return body;\n}\nexports.makeProduceItem = makeProduceItem;\n/**\n * Create an element with all the recipes that consume the given item.\n */\nfunction makeConsumeItem(item) {\n    var body = document.createElement(\"div\");\n    if (item in main_1.INFO.consumption_methods) {\n        body.innerHTML = \"<h2 class=\\\"display-2\\\">Ways to consume \" + item + \"</h2>\";\n        var methods = main_1.INFO.consumption_methods[item];\n        for (var _i = 0, methods_2 = methods; _i < methods_2.length; _i++) {\n            var recipe = methods_2[_i];\n            body.append(makeRecipe(recipe));\n        }\n    }\n    else {\n        body.innerText = \"Unknown item <code>\" + item + \"</code>\";\n    }\n    return body;\n}\nexports.makeConsumeItem = makeConsumeItem;\n/**\n * Create an element to view the specified recipe.\n */\nfunction makeRecipe(recipe) {\n    if (recipe in main_1.INFO.recipes) {\n        var entry = main_1.INFO.recipes[recipe];\n        var card = document.createElement(\"div\");\n        card.classList.add(\"card\");\n        var header = document.createElement(\"div\");\n        header.classList.add(\"card-header\");\n        // TODO: translation\n        header.innerText = recipe;\n        var body = document.createElement(\"div\");\n        body.classList.add(\"card-body\");\n        var inputs = document.createElement(\"ul\");\n        inputs.classList.add(\"list-unstyled\");\n        for (var _i = 0, _a = entry.ingredients; _i < _a.length; _i++) {\n            var input = _a[_i];\n            inputs.append(makeItemstack(input, \"li\"));\n        }\n        body.appendChild(inputs);\n        body.innerHTML += \"<p class=\\\"bi-arrow-down\\\">\\n            \" + entry.time.toPrecision(1) + \" seconds, \\n            \" + entry.made_in + \", \\n            \" + (entry.handcraftable ? \"Handcraftable\" : \"Not Handcraftable\") + \"\\n        </p>\";\n        var outputs = document.createElement(\"ul\");\n        outputs.classList.add(\"list-unstyled\");\n        for (var _b = 0, _c = entry.results; _b < _c.length; _b++) {\n            var output = _c[_b];\n            outputs.append(makeItemstack(output, \"li\"));\n        }\n        body.appendChild(outputs);\n        var footer = document.createElement(\"div\");\n        footer.classList.add(\"card-footer\");\n        footer.innerText = \"Unlocked by \" + entry.unlocked_by;\n        card.append(header, body, footer);\n        return card;\n    }\n    else {\n        // Error :(\n        var card = document.createElement(\"div\");\n        card.classList.add(\"card\");\n        card.innerText = \"Unknown recipe ID <code>\" + recipe + \"</code>\";\n        return card;\n    }\n}\n/**\n * Create an element representing an item.\n */\nfunction makeItem(item, type) {\n    if (type === void 0) { type = \"p\"; }\n    var elm = document.createElement(type);\n    elm.classList.add('dsp-item');\n    elm.innerText = item;\n    addHandlersItem(elm, item);\n    return elm;\n}\n/**\n * Create an element representing an itemstack.\n */\nfunction makeItemstack(stack, type) {\n    if (type === void 0) { type = \"p\"; }\n    var elm = document.createElement(type);\n    elm.classList.add('dsp-itemstack');\n    elm.innerText = stack.count + \"x \" + stack.item;\n    addHandlersItem(elm, stack.item);\n    return elm;\n}\n/**\n * Curry a function to put on the onclick handler of an item.\n */\nfunction addHandlersItem(elm, item) {\n    elm.onclick = function (ev) {\n        window.location.hash = \"?production=\" + item;\n    };\n    elm.oncontextmenu = function (ev) {\n        window.location.hash = \"?consumption=\" + item;\n        ev.preventDefault();\n    };\n}\n","\"use strict\";\nexports.__esModule = true;\nexports.INFO = void 0;\nvar Dom = require(\"./dom\");\nfetch('/dsp.json')\n    .then(function (r) { return r.json(); })\n    .then(function (data) {\n    exports.INFO = data;\n    console.log(exports.INFO);\n    var content = document.getElementById('content');\n    // For now\n    content.innerHTML = \"\";\n    content.appendChild(Dom.makeLanding());\n    window.addEventListener('hashchange', function (ev) {\n        var matcher = /#\\?(\\w+)=(\\w+)/;\n        var match = window.location.hash.match(matcher);\n        var newContent;\n        if (match !== null && match.length == 3) {\n            var key = match[1];\n            var value = match[2];\n            if (key == \"production\") {\n                newContent = Dom.makeProduceItem(value);\n            }\n            else {\n                newContent = Dom.makeLanding();\n            }\n        }\n        else {\n            newContent = Dom.makeLanding();\n        }\n        content.innerHTML = \"\";\n        content.appendChild(newContent);\n    });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/main.ts\");\n"],"sourceRoot":""}